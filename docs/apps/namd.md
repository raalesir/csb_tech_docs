# NAMD 

NAMD is a molecular dynamics package designed to scale efficiently to large biomolecular systems. The popular molecular visualisation package VMD can be used for simulation setup trough plugi-ins like QwikMD.

Some relevant links:

- Website: [https://www.ks.uiuc.edu/Research/namd/](https://www.ks.uiuc.edu/Research/namd/)

- VMD website: [https://www.ks.uiuc.edu/Research/vmd/](https://www.ks.uiuc.edu/Research/vmd/)

- QwikMD website: [http://www.ks.uiuc.edu/Research/qwikmd/](http://www.ks.uiuc.edu/Research/qwikmd/)

To find the available modules simply run:

    ml spider NAMD


**Important!**  
Always run calculations in the scratch directory on the compute node.


## Example files

This script can be used with input files as typically generated by QwikMD.

**run_namd.sh** (Slurm batch script)

```bash
#!/bin/bash -l

#SBATCH -p CLUSTER
#SBATCH -n 16
#SBATCH -t 3-00:00:00

module purge
module load namd/2.14

echo "Host: $(hostname)"
echo "Tmpdir: $TMPDIR"
echo "Jobdir: $SLURM_SUBMIT_DIR"

# copy files to scratch dir
rsync -ah $SLURM_SUBMIT_DIR/ $TMPDIR/ --exclude="slurm*"
cd $TMPDIR

namd2 +p16 Minimization.conf > Minimization.out
rsync -ah $TMPDIR/ $SLURM_SUBMIT_DIR/ --exclude="*tmp"

namd2 +p16 Annealing.conf > Annealing.out
rsync -ah $TMPDIR/ $SLURM_SUBMIT_DIR/ --exclude="*tmp"

namd2 +p16 Equilibration.conf > Equilibration.out
rsync -ah $TMPDIR/ $SLURM_SUBMIT_DIR/ --exclude="*tmp"

namd2 +p16 MD.conf > MD.out
rsync -ah $TMPDIR/ $SLURM_SUBMIT_DIR/ --exclude="*tmp"

# copy back one last time
rsync -ah $TMPDIR/ $SLURM_SUBMIT_DIR/ --exclude="*tmp"

# cleanup
rm -rf $TMPDIR
echo "Done"
```

